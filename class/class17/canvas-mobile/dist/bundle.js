!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t){setMouseCoordinate=function(e,t){e.x=t.clientX,e.y=t.clientY-40},setTouchCoordinate=function(e,t){e.x=t.touches[0].clientX,e.y=t.touches[0].clientY-40},initCanvas=function(){$canvas=$("#canvas"),canvas=$canvas[0],ctx=canvas.getContext("2d"),mouseDown=!1,curPos={x:void 0,y:void 0},lastPos={x:void 0,y:void 0},$(canvas).attr({height:"600",width:"800"}),curMaterial="pen",curColor="000000",eraserSizeTrans={small:5,media:15,large:30},curEraserSize=15},resize=function(){function e(){canvas.width=window.innerWidth,canvas.height=window.innerHeight-40}window.addEventListener("resize",e,!1),e()},bindMouseEvent=function(){$canvas.on("mousedown",function(e){e.preventDefault(),mouseDown=!0,setMouseCoordinate(curPos,e)}),$canvas.on("mousemove",function(e){if(e.preventDefault(),mouseDown)switch(lastPos=Object.assign({},curPos),setMouseCoordinate(curPos,e),curMaterial){case"pen":ctx.strokeStyle=curColor,ctx.beginPath(),ctx.moveTo(lastPos.x,lastPos.y),ctx.lineTo(curPos.x,curPos.y),ctx.stroke();break;case"eraser":ctx.clearRect(lastPos.x,lastPos.y,curEraserSize,curEraserSize);break;default:return!1}}),$canvas.on("mouseup",function(e){e.preventDefault(),mouseDown=!1})},bindTouchEvent=function(){$canvas.on("touchstart",function(e){e.preventDefault(),mouseDown=!0,setTouchCoordinate(curPos,e)}),$canvas.on("touchmove",function(e){if(e.preventDefault(),mouseDown)switch(lastPos=Object.assign({},curPos),setTouchCoordinate(curPos,e),curMaterial){case"pen":ctx.strokeStyle=curColor,ctx.beginPath(),ctx.moveTo(lastPos.x,lastPos.y),ctx.lineTo(curPos.x,curPos.y),ctx.stroke();break;case"eraser":ctx.clearRect(lastPos.x,lastPos.y,curEraserSize,curEraserSize);break;default:return!1}}),$canvas.on("touchend",function(e){e.preventDefault(),mouseDown=!1})},bindEvent=function(){"ontouchstart"in document.documentElement?bindTouchEvent():bindMouseEvent(),$(".options").on("click",".option",function(e){e.preventDefault(),-1!==$(this).attr("class").indexOf("action")&&($(this).siblings().removeClass("selected"),$(this).addClass("selected"));var t=curMaterial;curMaterial=$(this).attr("id");var n=$("html");switch(curMaterial){case"pen":n.removeClass("eraser");break;case"eraser":n.addClass("eraser");break;case"clear":ctx.clearRect(0,0,canvas.width,canvas.height),curMaterial=t;break;case"download":var a=canvas.toDataURL("image/png");$("<a href="+a+" download=image></a>")[0].click(),curMaterial=t;break;default:return!1}}),$("input[type=color]").change(function(e){curColor=$(this).val()}),$("select[name=size]").change(function(e){curEraserSize=eraserSizeTrans[$(this).val()]}),$(".color").click(function(e){curColor=this.id})},initCanvas(),bindEvent(),resize()}]);